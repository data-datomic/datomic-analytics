# Template file for 'gst-ffmpeg'
pkgname=gst-ffmpeg
version=0.10.13
revision=6
lib32disabled=yes
build_style=gnu-configure
configure_args="--with-ffmpeg-extra-configure=--enable-runtime-cpudetect"
hostmakedepends="pkg-config yasm python"
makedepends="zlib-devel orc-devel glib-devel gstreamer-devel gst-plugins-base-devel libxml2-devel"
short_desc="GStreamer FFmpeg plugins"
maintainer="Juan RP <xtraeme@voidlinux.eu>"
license="GPL-2"
homepage="http://gstreamer.freedesktop.org"
distfiles="$homepage/src/$pkgname/$pkgname-$version.tar.bz2"
checksum=76fca05b08e00134e3cb92fa347507f42cbd48ddb08ed3343a912def187fbb62

pre_configure() {
	# Fix cross compiling for arm* where os=linuxeabihf
	sed -i ${wrksrc}/gst-libs/ext/libav/configure \
		-e "s;linux);linux*);"
}
