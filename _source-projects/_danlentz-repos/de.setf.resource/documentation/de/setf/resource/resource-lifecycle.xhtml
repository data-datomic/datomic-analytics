<?xml version='1.0' standalone='no' ?><!DOCTYPE xhtml PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns='http://www.w3.org/1999/xhtml'>  <head>   <meta name='date' content='20100625T034720' />       <meta http-equiv='Content-Type' content='text/xhtml;charset=iso-8859-1' />       <link href='../../../documentation.css' rel='stylesheet' type='text/css' />       <title>FILE: resource-lifecycle    </title>   </head><body><div class='file'><div class='type'>File</div><div class='name'>resource-lifecycle.lisp</div><hr /><div class='indexHeading'><span><a href='#index_A'>A</a> </span><span><a href='#index_C'>C</a> </span><span><a href='#index_D'>D</a> </span><span><a href='#index_I'>I</a> </span><span><a href='#index_M'>M</a> </span><span><a href='#index_P'>P</a> </span><span><a href='#index_R'>R</a> </span><span><a href='#index_U'>U</a> </span><span><a href='#index_W'>W</a> </span></div><hr /><div class='documentation'>This file defines the operators which implement the persistence life-cycle for property objects for the `de.setf.resource` CLOS linked data library.</div><div class='documentation'>Implements the JDO object life-cycle for resource objects.[1] The general behavior involves three states: transient, persistent variations, in particular hollow. In the transient state mo content is tracked and nothing happens to maintain a relation with the source. In the persistent states changes history is tracked and object content reflects persistent state plus the tracked delta. Hollow, as a special case, contains no state, as the instance should be identical with the store. --- [1] : http://db.apache.org/jdo/state_transition.html</div><div class='documentation'><div class='name'><a href='#project-graph' style='margin-right: 0.5em'>project-graph </a></div></div><div class='documentation'>Projection referes to the process of transfering a graph from one context to another. This can use a collection of statements from an external repository to set the state of an instance, synchronize the repository with an object's modifications, or interate over an object's properties to write them to a stream. The source and target can be any of several forms: - a specific instance, in which case only matching subjects apply - a class, in which the matching instance is sought - a metaclass, in which case the matching instance of the matching class is sought.</div><hr /><div class='indexLetter'><a name='index_A'>A</a></div><div class='function'><a name='add-statement-using-slot'><div class='type'>Generic Function</div><div class='name'>add-statement-using-slot</div><div class='parameters'> slot  object  statement </div></a><div class='documentation'>use the slot type to distinguish the combinations    - property v/s slot    - literal v/s resource If the type is a cons type, set initially to a list, then push subsequent values. Otherwise set and re-set. For a property, the value and statement are stored in the property definition. For a slot, the slot definition provides the name for slot-based storage. The operation leaves the statement with the respective literal atomic/group statement shadow to the statement or augmented with same, the slot/property bound to/augmented with the value if literal and unbound if a resource.</div></div><hr /><div class='method' name='add-statement-using-slot' ID='add-statement-using-slot'><div class='type'>Method</div><div class='name'><a href='#add-statement-using-slot'>add-statement-using-slot</a>   </div><div class='parameters'> (sd rdf-prototypal-property-definition) (object resource-object) (statement t)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_C'>C</a></div><div class='method' name='commit-in-state' ID='commit-in-state'><div class='type'>Method</div><div class='name'>commit-in-state   </div><div class='parameters'> (object t) (state persistent)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_D'>D</a></div><div class='function'><a name='delete-statement-using-slot'><div class='type'>Generic Function</div><div class='name'>delete-statement-using-slot</div><div class='parameters'> slot  object  statement </div></a><div class='documentation'>use the slot definition to unbind the roperty.</div></div><hr /><div class='method' name='delete-subject' ID='delete-subject'><div class='type'>Method</div><div class='name'><a href='interface.xhtml#delete-subject'>delete-subject</a>   </div><div class='parameters'> (object resource-object) (subject t)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_I'>I</a></div><div class='method' name='insert-statement-using-slot' ID='insert-statement-using-slot'><div class='type'>Method</div><div class='name'><a href='#insert-statement-using-slot'>insert-statement-using-slot</a>   </div><div class='parameters'> (sd rdf-archetypal-property-definition) (object resource-object) (statement t)</div><div class='documentation'></div></div><hr /><div class='function'><a name='insert-statement-using-slot'><div class='type'>Generic Function</div><div class='name'>insert-statement-using-slot</div><div class='parameters'> slot  object  statement </div></a><div class='documentation'>use the slot type to distinguish the combinations    - property v/s slot    - literal v/s resource If the type is a cons type, set initially to a list, then push subsequent values. Otherwise set and re-set. For a property, the value and statement are stored in the property definition. For a slot, the slot definition provides the name for slot-based storage. The operation leaves the statement with the respective literal atomic/group statement shadow to the statement or augmented with same, the slot/property bound to/augmented with the value if literal and unbound if a resource.</div></div><hr /><div class='indexLetter'><a name='index_M'>M</a></div><div class='method' name='make-hollow' ID='make-hollow'><div class='type'>Method</div><div class='name'>make-hollow   </div><div class='parameters'> (object resource-object)</div><div class='documentation'>Leave the instance in a state where it cannot become inconsistent with the <a href='utilities.xhtml#persistent' class='reference class'>persistent</a> source.</div></div><hr /><div class='method' name='make-persistent-in-state' ID='make-persistent-in-state'><div class='type'>Method</div><div class='name'>make-persistent-in-state   </div><div class='parameters'> (object t) (state persistent)</div><div class='documentation'>If already persistent, do nothing.</div></div><hr /><div class='method' name='make-transient-in-state' ID='make-transient-in-state'><div class='type'>Method</div><div class='name'>make-transient-in-state   </div><div class='parameters'> (object t) (state clean-persistent)</div><div class='documentation'>From clean, set the state and retain any content.</div></div><hr /><div class='method' name='modify-in-state' ID='modify-in-state'><div class='type'>Method</div><div class='name'>modify-in-state   </div><div class='parameters'> (object t) (state persistent) (name t)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_P'>P</a></div><div class='method' name='project-graph' ID='project-graph'><div class='type'>Method</div><div class='name'><a href='interface.xhtml#project-graph'>project-graph</a>   </div><div class='parameters'> (source list) (class resource-class)</div><div class='documentation'>Combine a list and a class by locating the designated the instance of the class and adding the Statement to it.</div></div><hr /><div class='method' name='project-slot-using-statement' ID='project-slot-using-statement'><div class='type'>Method</div><div class='name'>project-slot-using-statement   </div><div class='parameters'> (object resource-object) (sd rdf-archetypal-property-definition) (statement triple) (function t)</div><div class='documentation'></div></div><hr /><div class='method' name='property-missing' ID='property-missing'><div class='type'>Method</div><div class='name'><a href='interface.xhtml#property-missing'>property-missing</a>   </div><div class='parameters'> (class resource-class) (object resource-object) (property t) (operation setf-property-value) &amp;optional value</div><div class='documentation'></div></div><hr /><div class='method' name='property-read-only' ID='property-read-only'><div class='type'>Method</div><div class='name'><a href='interface.xhtml#property-read-only'>property-read-only</a>   </div><div class='parameters'> (class resource-class) (object resource-object) (slot rdf-prototypal-property-definition) (operation t) (new-value t)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_R'>R</a></div><div class='method' name='read-properties-in-state' ID='read-properties-in-state'><div class='type'>Method</div><div class='name'>read-properties-in-state   </div><div class='parameters'> (object t) (state hollow)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_U'>U</a></div><div class='method' name='unbind-property-using-definition' ID='unbind-property-using-definition'><div class='type'>Method</div><div class='name'>unbind-property-using-definition   </div><div class='parameters'> (object resource-object) (sd rdf-archetypal-property-definition)</div><div class='documentation'></div></div><hr /><div class='indexLetter'><a name='index_W'>W</a></div><div class='method' name='write-properties-in-state' ID='write-properties-in-state'><div class='type'>Method</div><div class='name'>write-properties-in-state   </div><div class='parameters'> (object t) (state deleted-persistent)</div><div class='documentation'>Given a persistent object which is to be deleted, delete all statements which refer to it in any role. For this, retrieve the subject-role anew as well, in order to avoid version skew.</div></div><hr /></div><hr /><div class='footer'><div style='float: left;'><img src='http://www.digitool.com/img/mcl-made-1.gif' /></div><div style='float: right;'> Copyright 2010 setf.de</div></div></body></html>